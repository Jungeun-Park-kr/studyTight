<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyTight</title>
    <script src="/user/users.js"></script>
    <script src="guestbook_myroom.js"></script>
    <script src="friends_add.js"></script>
    <script src="menu_for_myroom.js"></script>
    <script src="/guestbook/editprofile.js"></script>
    <style>
        @import url(/guestbook/guestbook_myroom.css);
        @import url(/mainframe.css);
        @import url(/guestbook/index.css);
        @import url(/guestbook/reply.css);
    </style>
</head>
<script>
    var username = localStorage.getItem('username');
    activeUser = getActiveUser(username);
    var friendslist = activeUser.friendslist;
    var profilelist = activeUser.profilelist;
    var commnetlist = activeUser.commnetlist;
</script>

<body>
    <div id="wrap">
        <div class="information-menu">
            <div class="logo_area">
                <img src="/media/logo.png" class=logo onclick="btnHome();">
            </div>
            <ul class="left-menus" id=leftmenu>
                <li class="edit-profile">
                    <input type="button" id="edit-button-id" value="프로필 수정하기" onclick="showFriendAddPopup();"></input>
                </li>
            </ul>
            <script>
                function showprofile() {
                    var username = localStorage.getItem('username');
                    activeUser = getActiveUser(username);
                    myprofile = activeUser.guestbook.profile;
                    var parent_table = document.getElementById("leftmenu"); //부모테이블
                    var profile = document.createElement("div");
                    var new_td1 = document.createElement("li");
                    var userimage = document.createElement('img');
                    userimage.src = activeUser.userImage; // 이미지 경로 설정
                    //userimage.innerHTML = "&nbsp" + activeUser.name;

                    //다섯번째 li , 테스트에서는 공개되지 않음.
                    if (myprofile.age_secret == false) {
                        var Fifth = document.createElement("li");
                        Fifth.setAttribute("class", "age");
                        var Fifthimage = document.createElement('img');
                        Fifthimage.src = "media/age.png";
                        Fifth.innerHTML = "&nbsp" + myprofile.age;
                        Fifth.prepend(Fifthimage);
                        parent_table.prepend(Fifth);
                    }

                    //네번째 li
                    if (myprofile.major_secret == false) {
                        var fourth = document.createElement("li");
                        fourth.setAttribute("class", "major");
                        var fourthimage = document.createElement('img');
                        fourthimage.src = "media/mortarboard.png";
                        fourth.innerHTML = "&nbsp" + myprofile.major;
                        fourth.prepend(fourthimage);
                        parent_table.prepend(fourth);
                    }

                    //여기부턴 공개여부에 따라 달라짐
                    //세번째 li
                    //console.log(myprofile.school_secret); _데이터테스트
                    if (myprofile.school_secret == false) {
                        var third = document.createElement("li");
                        third.setAttribute("class", "school");
                        var thirdimage = document.createElement('img');
                        thirdimage.src = "media/office-building.png";
                        third.innerHTML = "&nbsp" + myprofile.school;
                        third.prepend(thirdimage);
                        parent_table.prepend(third);
                    }


                    //두번째 li
                    var second = document.createElement("li");
                    second.setAttribute("class", "menu_contact");
                    var secondimage = document.createElement('img');
                    secondimage.src = "media/user.png";
                    second.innerHTML = "&nbsp" + activeUser.name;
                    second.prepend(secondimage);
                    parent_table.prepend(second);

                    //첫번째 profile.
                    new_td1.setAttribute("class", "profile");
                    new_td1.appendChild(userimage);
                    profile.appendChild(new_td1);
                    parent_table.prepend(profile);

                }
            </script>
            <script>
                showprofile();
            </script>

        </div>
        <div class="section">
            <div class="my-room">
                <!-- 방명록 -->
                <div class="friends">
                    <div class="friends_add">
                        <div class="title_msg">Friends</div>
                        <div class="btn_add_course">
                            <input type="button" value="+ 친구 추가하기" onclick="showAddfriendsPopup();"></input>
                        </div>

                    </div>


                    <script>
                        function showfriendlist() {
                            var username = localStorage.getItem('username');
                            activeUser = getActiveUser(username);
                            myprofile = activeUser.guestbook.profile;
                            var parent_table = document.getElementById("leftmenu"); //부모테이블
                            var profile = document.createElement("div");
                            var new_td1 = document.createElement("li");
                            var userimage = document.createElement('img');
                            userimage.src = activeUser.userImage; // 이미지 경로 설정
                            //userimage.innerHTML = "&nbsp" + activeUser.name;

                            //다섯번째 li , 테스트에서는 공개되지 않음.
                            if (myprofile.age_secret == false) {
                                var Fifth = document.createElement("li");
                                Fifth.setAttribute("class", "age");
                                var Fifthimage = document.createElement('img');
                                Fifthimage.src = "media/age.png";
                                Fifth.innerHTML = "&nbsp" + myprofile.age;
                                Fifth.prepend(Fifthimage);
                                parent_table.prepend(Fifth);
                            }
                        }
                    </script>


                    <div class="friends_list_box">
                        <table id="course_table">
                            <tbody>
                                <tr onclick="btnfriends('양지영');">
                                    <td>양지영</td>
                                    <td>sidjyoung@naver.com</td>
                                </tr>
                                <tr onclick="btnfriends('최시언');">
                                    <td>최시언</td>
                                    <td>noino0819@naver.com</td>
                                </tr>
                                <tr onclick="btnfriends('김삿갓');">
                                    <td>김삿갓</td>
                                    <td>kimsatgat@naver.com </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="writing-place">
                    <div class="writing-box">
                        <!--행(row)선언-->
                        <input type="text" id=comment-input name="writing" value="" placeholder="  내용을 입력해주세요" style="width:100%;height:100%;" />
                    </div>
                    <div class="writing-button-secret">
                        <div class="writing-button">
                            <input type="button" id="submit" value="글쓰기" onclick="showwritingPopup();"></input>
                        </div>
                        <div class="secret-checkbox">
                            <input type="checkbox" name="비밀글"> 비밀글
                        </div>

                    </div>

                </div>
                <hr id="myroom-line">
                <div id=comments> </div>
                <div class="talking-place">
                    <div class="talking">
                        <div class="mini-profile">
                            <img src="media/person_gray.png"></img>
                        </div>
                        <div class="user-small-talking">
                            <div class="user-name">
                                최시언
                            </div>
                            <div class="user-talking-list">
                                이번 웹프로그래밍 문제 이해했어?
                            </div>
                            <div class="today-button">
                                <div class="today">
                                    2020-10-16 12:13:11
                                </div>
                                <div class="reply-button" id=reply-button1>
                                    <input type="button" value="답글쓰기"></input>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="reply-place" id=replyplace1>
                        <div class="writing-box">
                            <!--행(row)선언-->
                            <input type="text" id=comment-input name="writing" value="" placeholder="  내용을 입력해주세요" style="width:100%;height:100%;" />
                        </div>
                        <div class="writing-button-secret">
                            <div class="writing-button">
                                <input type="button" id="submit" value="글쓰기" onclick="showwritingPopup();"></input>
                            </div>
                            <div class="secret-checkbox">
                                <input type="checkbox" name="비밀글"> 비밀글
                            </div>

                        </div>

                    </div>

                    <hr id="myroom-line">
                    <div class="talking">
                        <div class="mini-profile">
                            <img src="media/person_gray.png"></img>
                        </div>
                        <div class="user-small-talking">
                            <div class="user-name">
                                김삿갓
                            </div>
                            <div class="user-talking-list">
                                너 시간표 진짜 신기하다. 잘 보고가! <br>다음에 수업 겹치면 같이 듣자!
                            </div>
                            <div class="today-button">
                                <div class="today">
                                    2020-11-26 16:13:12
                                </div>
                                <div class="reply-button">
                                    <input type="button" value="답글쓰기"></input>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr id="myroom-line ">
                    <div class="talking ">

                    </div>
                    <div class="talking ">

                    </div>

                    <script src="index.js "></script>

                    <tr>
                        <!-- 연결 주소가 현재는 현재페이지로 지정되어있음. 이후 데이터베이스 정리가 끝나면 수정바람. -->
                        <td colspan="6 ">
                            <center>
                                <a href="# ">1</a>
                                <a href="# ">2</a>
                                <a href="# ">3</a>
                                <a href="# ">4</a>
                                <a href="# ">다음▶</a>
                            </center>
                        </td>
                    </tr>

                </div>
            </div>
        </div>

        <div class="aside ">
            <!-- 여기는 aisde(우측 로그인, 오늘할일) -->
        </div>
    </div>
</body>

</html>